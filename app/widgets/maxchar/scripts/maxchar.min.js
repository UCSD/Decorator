(function(a){a.fn.maxchar=function(g){function f(b,c){var a=b.siblings("."+d.infoClass+":first"),e=b.val().length;if(0==e)a.html("Max "+c+" characters.");else return e>c?(a.html("Cannot have more than "+c+" characters."),b.val(b.val().substr(0,c))):a.html(c-e+" characters left."),!0}var d=a.extend({max:500,infoClass:"help"},g);a(this).each(function(){var b=a(this);f(b,d.max);b.keyup(function(){f(b,d.max)})})}})(jQuery);